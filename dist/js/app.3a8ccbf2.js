(function(t){function e(e){for(var s,i,o=e[0],l=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],r[i]&&d.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2e68":function(t,e,a){"use strict";var s=a("bfd3"),r=a.n(s);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],i=(a("5c0b"),a("2877")),o={},l=Object(i["a"])(o,r,n,!1,null,null,null),u=l.exports,c=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container",attrs:{id:"cart"}},[a("h2",[t._v("Shopping Cart")]),a("div",{staticClass:"row"},[a("section",{staticClass:"cart col s12 l12"},[t.products.length>0?a("ProductsTableComponent",{attrs:{products:t.products},on:{"products-changed":t.updateSessionStorage}}):t._e()],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 l8"},[a("section",{attrs:{id:"personal-info"}},[a("h3",[t._v("Personal Information")]),a("PersonalInformationForm",{attrs:{"personal-info":t.personalInfo}})],1),a("section",{attrs:{id:"address"}},[a("h3",[t._v("Shipping Address")]),a("ShippingAddressForm",{attrs:{"shipping-address":t.shippingAdress}})],1)]),a("section",{staticClass:"col s12 l4",attrs:{id:"payment"}},[a("h3",[t._v("Payment")]),a("PaypalComponent")],1)])])},d=[],f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"paypal-button"}})])}],h=a("f702"),v=a.n(h),y={name:"PaypalComponent",mounted:function(){v.a.Button.render({env:"sandbox",style:{size:"medium",color:"gold",shape:"rect",label:"checkout",tagline:"true"},payment:this.$repository.createPayment,onAuthorize:this.$repository.executePayment},"#paypal-button")}},b=y,g=Object(i["a"])(b,f,m,!1,null,null,null),_=g.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"striped",attrs:{id:"shopping-cart-table"}},[t._m(0),a("tbody",t._l(t.products,function(e){return a("ProductRowComponent",{key:e.sku,attrs:{product:e},on:{"quantity-have-changed":t.updatedProducts}})}),1),a("tfoot",[a("tr",[a("td"),a("td",{attrs:{id:"subtotal-label"}},[t._v("Subtotal ("+t._s(t.products.length)+" item):")]),a("td",{attrs:{id:"subtotal-value"}},[t._v("U$ "+t._s(t.subtotal))])])])])},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"product-column"}),a("th",{staticClass:"price-column"},[t._v("Price")]),a("th",{staticClass:"quantity-column"},[t._v("Quantity")])])])}],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"product-column"},[a("div",{staticClass:"product-info"},[a("img",{attrs:{src:t.product.productImg,alt:t.product.name}}),a("div",{staticClass:"product-details"},[a("span",[a("a",{staticClass:"truncate",attrs:{href:t.product.productUrl,target:"_blank"}},[t._v(t._s(t.product.name))])]),a("span",[a("a",{attrs:{href:"#"},on:{click:function(e){return t.$emit("quantity-have-changed",0,t.product.sku)}}},[t._v("Delete")])])])])]),a("td",{staticClass:"price-column"},[t._v("U$ "+t._s(t.product.unitPrice))]),a("td",{staticClass:"quantity-column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],attrs:{type:"number",min:"1"},domProps:{value:t.quantity},on:{input:[function(e){e.target.composing||(t.quantity=e.target.value)},function(e){return t.$emit("quantity-have-changed",t.quantity,t.product.sku)}]}})])])},q=[],S={name:"ProductRowComponent",props:{product:{type:Object,required:!0}},data:function(){return{quantity:1}}},w=S,O=(a("2e68"),Object(i["a"])(w,x,q,!1,null,null,null)),j=O.exports,A={name:"ProductsTableComponent",components:{ProductRowComponent:j},props:{products:{type:Array,required:!0}},data:function(){return{subtotal:this.getSubtotal()}},methods:{updatedProducts:function(t,e){if(0===t)return this.products=this.products.filter(function(t){return t.sku!=e}),void this.$emit("products-changed",this.products);this.products.map(function(a){a.sku===e&&(a.quantity=t)}),this.$emit("products-changed",this.products),this.subtotal=this.getSubtotal()},getSubtotal:function(){return this.products.reduce(function(t,e){return(t+e.price*e.quantity).toFixed(2)},0)}}},$=A,I=(a("6b3f"),Object(i["a"])($,C,P,!1,null,null,null)),k=I.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{id:"personal-info row"}},[a("div",{staticClass:"input-field col s12 l5"},[a("input",{staticClass:"validate",attrs:{type:"text",minlength:"5",name:"first-name",required:""},domProps:{value:t.personalInfo.firstName}}),a("label",{attrs:{for:"first-name"}},[t._v("First Name*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Required field"}})]),a("div",{staticClass:"input-field col s12 l7"},[a("input",{staticClass:"validate",attrs:{type:"text",minlength:"5",name:"last-name",required:""},domProps:{value:t.personalInfo.lastName}}),a("label",{attrs:{for:"last-name"}},[t._v("Last Name*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Required field"}})]),a("div",{staticClass:"input-field col s12 l7"},[a("input",{staticClass:"validate",attrs:{type:"email",name:"email",required:""},domProps:{value:t.personalInfo.email}}),a("label",{attrs:{for:"email"}},[t._v("Email*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Should be a valid email"}})]),a("div",{staticClass:"input-field col s12 l5"},[a("input",{staticClass:"validate",attrs:{type:"tel",name:"phone",required:""},domProps:{value:t.personalInfo.phone}}),a("label",{attrs:{for:"phone"}},[t._v("Phone Number*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Should be a valid phone number"}})])])},R=[],N={name:"PersonalInformationForm",props:{personalInfo:{type:Object}}},z=N,F=Object(i["a"])(z,E,R,!1,null,null,null),L=F.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{id:"shipping-address row"}},[a("div",{staticClass:"input-field col s12 l5"},[a("input",{staticClass:"validate",attrs:{type:"text",name:"country",required:""},domProps:{value:t.shippingAddress.country}}),a("label",{attrs:{for:"country"}},[t._v("Country/Region*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Required field"}})]),a("div",{staticClass:"input-field col s12 l7"},[a("input",{staticClass:"validate",attrs:{type:"text",name:"city",required:""},domProps:{value:t.shippingAddress.city}}),a("label",{attrs:{for:"city"}},[t._v("City*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Required field"}})]),a("div",{staticClass:"input-field col s12 l7"},[a("input",{staticClass:"validate",attrs:{type:"text",name:"state",required:""},domProps:{value:t.shippingAddress.state}}),a("label",{attrs:{for:"state"}},[t._v("State/Province/Region*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Required field"}})]),a("div",{staticClass:"input-field col s12 l5"},[a("input",{staticClass:"validate",attrs:{type:"text",name:"zip-code",maxlength:"5",pattern:"[0-9]{5}",required:""},domProps:{value:t.shippingAddress.zipcode}}),a("label",{attrs:{for:"zip-code"}},[t._v("Zip Code*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Should be a valid zip code"}})]),a("div",{staticClass:"input-field col s12 l12"},[a("input",{staticClass:"validate",attrs:{type:"text",name:"address-line-1",required:""},domProps:{value:t.shippingAddress.address1}}),a("label",{attrs:{for:"address-line-1"}},[t._v("Address Line 1*")]),a("span",{staticClass:"helper-text",attrs:{"data-error":"Required field"}})]),a("div",{staticClass:"input-field col s12 l12"},[a("input",{staticClass:"validate",attrs:{type:"text",name:"address-line-2"},domProps:{value:t.shippingAddress.address2}}),a("label",{attrs:{for:"address-line-2"}},[t._v("Address Line 2")])])])},D=[],T={name:"ShippingAddressForm",props:{shippingAddress:{type:Object}}},J=T,M=Object(i["a"])(J,U,D,!1,null,null,null),B=M.exports,Q={name:"cart",components:{PaypalComponent:_,ProductsTableComponent:k,PersonalInformationForm:L,ShippingAddressForm:B},mounted:function(){this.getProducts()},data:function(){return{products:[],shippingAdress:{country:"US",city:"Redwood City",state:"CA",zipcode:"94065",address1:"4th Floor, One Lagoon Drive",address2:"Unit #34"},personalInfo:{firstName:"Brian",lastName:"Robinson",email:"julianomarquesnunes+1@gmail.com",phone:"011862212345678"}}},methods:{getProducts:function(){this.$repository.getProductsList().then(function(t){this.products=t.data,this.products.map(function(t){return t.quantity=1}),this.updateSessionStorage(this.products)}.bind(this))},updateSessionStorage:function(t){0!==t.length?localStorage.setItem("transactions",JSON.stringify({itemsList:{items:t.map(function(t){return{quantity:t.quantity,sku:t.sku}}),shippingAddress:{recipient_name:"".concat(this.personalInfo.lastName,", ").concat(this.personalInfo.firstName),line1:this.shippingAdress.address1,line2:this.shippingAdress.address2,city:this.shippingAdress.city,country_code:this.shippingAdress.country,postal_code:this.shippingAdress.zipcode,phone:this.personalInfo.phone,state:this.shippingAdress.state}},redirectUrls:{return_url:"https://".concat(window.location.hostname,"/#/approved"),cancel_url:"https://".concat(window.location.hostname,"/#/refused")}})):localStorage.setItem("transactions",JSON.stringify(new Object))}}},W=Q,Y=(a("6fe5"),Object(i["a"])(W,p,d,!1,null,null,null)),Z=Y.exports,G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container",attrs:{id:"cart"}},[a("h2",[t._v("Your payment was processed and your purchase is confirmed")])])}],K={},V=Object(i["a"])(K,G,H,!1,null,null,null),X=V.exports,tt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container",attrs:{id:"cart"}},[a("h2",[t._v("We could not complete your purchase")])])}],at={},st=Object(i["a"])(at,tt,et,!1,null,null,null),rt=st.exports;s["a"].use(c["a"]);var nt=new c["a"]({routes:[{path:"/",name:"cart",component:Z},{path:"/approved",name:"approved",component:X},{path:"/refused",name:"refused",component:rt}]}),it=a("4d5c"),ot=a.n(it),lt=a("d225"),ut=a("b0b4"),ct=a("bc3a"),pt=a.n(ct),dt=pt.a.create({baseURL:"https://groovy-reserve-241123.appspot.com/api/v1",headers:{"content-type":"application/json"}}),ft=function(){function t(){Object(lt["a"])(this,t)}return Object(ut["a"])(t,[{key:"createPayment",value:function(t){var e=JSON.parse(localStorage.getItem("transactions"));return dt.post("/create-payment/",e).then(function(t){return t.data.id})}},{key:"executePayment",value:function(t){return dt.post("/execute-payment/",{paymentID:t.paymentID,payerID:t.payerID}).then(function(){window.location.href=t.returnUrl})}},{key:"getProductsList",value:function(){return dt.get("/products-list/")}}]),t}();s["a"].config.productionTip=!1,s["a"].prototype.$repository=new ft,new s["a"]({router:nt,materialize:ot.a,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("5e27"),r=a.n(s);r.a},"5e27":function(t,e,a){},"6ac7":function(t,e,a){},"6b3f":function(t,e,a){"use strict";var s=a("a8d4"),r=a.n(s);r.a},"6fe5":function(t,e,a){"use strict";var s=a("6ac7"),r=a.n(s);r.a},a8d4:function(t,e,a){},bfd3:function(t,e,a){}});
//# sourceMappingURL=app.3a8ccbf2.js.map